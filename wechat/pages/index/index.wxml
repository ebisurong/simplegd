<!--pages/index/index.wxml-->
<view class="page-container">
  <!-- æ¬¢è¿å¡ç‰‡ -->
  <!-- <view class="card mb-20">
    <view class="card-content text-center">
      <image src="/images/logo.png" class="logo" mode="aspectFit"></image>
      <view class="welcome-title">å·¥å•ç®¡ç†ç³»ç»Ÿ</view>
      <view class="welcome-desc">é«˜æ•ˆä¾¿æ·çš„å·¥å•ä¸ŠæŠ¥ä¸ç®¡ç†å¹³å°</view>
    </view>
  </view> -->

  <!-- åŠŸèƒ½èœå• -->
  <view class="card mb-20">
    <view class="card-header">
      <view class="card-title">å¿«é€Ÿæ“ä½œ</view>
    </view>
    <view class="card-content">
      <view class="menu-grid">
        <view class="menu-item" bindtap="goToReport">
          <view class="menu-icon report-icon">
            <text class="iconfont icon-add">ğŸ“</text>
          </view>
          <view class="menu-text">å·¥å•ä¸ŠæŠ¥</view>
        </view>
        <view class="menu-item" bindtap="goToHistory">
          <view class="menu-icon history-icon">
            <text class="iconfont icon-history">ğŸ“‹</text>
          </view>
          <view class="menu-text">å†å²æŸ¥è¯¢</view>
        </view>
        <view class="menu-item" bindtap="showSettings">
          <view class="menu-icon settings-icon">
            <text class="iconfont icon-settings">âš™ï¸</text>
          </view>
          <view class="menu-text">ç³»ç»Ÿè®¾ç½®</view>
        </view>
      </view>
    </view>
  </view>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="card mb-20">
    <view class="card-header">
      <view class="card-title">å·¥å•ç»Ÿè®¡</view>
    </view>
    <view class="card-content">
      <view class="stats-grid">
        <view class="stats-item">
          <view class="stats-number">{{totalOrders}}</view>
          <view class="stats-label">æ€»å·¥å•æ•°</view>
        </view>
        <view class="stats-item">
          <view class="stats-number">{{todayOrders}}</view>
          <view class="stats-label">ä»Šæ—¥ä¸ŠæŠ¥</view>
        </view>
        <view class="stats-item">
          <view class="stats-number">{{pendingOrders}}</view>
          <view class="stats-label">å¾…å¤„ç†</view>
        </view>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘å·¥å• -->
  <view class="card" wx:if="{{recentOrders.length > 0}}">
    <view class="card-header flex-between">
      <view class="card-title">æœ€è¿‘å·¥å•</view>
      <view class="more-link" bindtap="goToHistory">æŸ¥çœ‹æ›´å¤š</view>
    </view>
    <view class="card-content">
      <view class="recent-order" wx:for="{{recentOrders}}" wx:key="id" bindtap="viewOrderDetail" data-order="{{item}}">
        <view class="order-info">
          <view class="order-title">{{item.title}}</view>
          <view class="order-time">{{item.createTime}}</view>
        </view>
        <view class="order-status">
          <view class="status status-{{item.status}}">{{item.statusText}}</view>
        </view>
      </view>
    </view>
  </view>
</view>

<!-- è®¾ç½®å¼¹çª— -->
<view class="modal" wx:if="{{showSettingsModal}}" bindtap="hideSettings">
  <view class="modal-content" catchtap="stopPropagation">
    <view class="modal-header">
      <view class="modal-title">ç³»ç»Ÿè®¾ç½®</view>
      <view class="modal-close" bindtap="hideSettings">Ã—</view>
    </view>
    <view class="modal-body">
      <view class="form-group">
        <view class="form-label">é¡¹ç›®åç§°</view>
        <input class="form-input" value="{{projectName}}" bindinput="onProjectNameInput" placeholder="è¯·è¾“å…¥é¡¹ç›®åç§°" />
      </view>
      <view class="form-group">
        <view class="form-label">åœ°ç‚¹åç§°</view>
        <input class="form-input" value="{{locationName}}" bindinput="onLocationNameInput" placeholder="è¯·è¾“å…¥åœ°ç‚¹åç§°" />
      </view>
    </view>
    <view class="modal-footer">
      <button class="btn btn-secondary" bindtap="hideSettings">å–æ¶ˆ</button>
      <button class="btn btn-primary" bindtap="saveSettings">ä¿å­˜</button>
    </view>
  </view>
</view>